(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},18566,(e,t,n)=>{t.exports=e.r(76562)},98183,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={assign:function(){return o},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return l}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});function i(e){let t={};for(let[n,r]of e.entries()){let e=t[n];void 0===e?t[n]=r:Array.isArray(e)?e.push(r):t[n]=[e,r]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[n,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(n,s(e));else t.set(n,s(r));return t}function o(e,...t){for(let n of t){for(let t of n.keys())e.delete(t);for(let[t,r]of n.entries())e.append(t,r)}return e}},95057,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});let i=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:n}=e,r=e.protocol||"",a=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:n&&(c=t+(~n.indexOf(":")?`[${n}]`:n),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(i.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return r&&!r.endsWith(":")&&(r+=":"),e.slashes||(!r||s.test(r))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${r}${c}${a}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},18581,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return a}});let r=e.r(71645);function a(e,t){let n=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=n.current;e&&(n.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(n.current=i(e,r)),t&&(a.current=i(t,r))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},18967,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return b},NormalizeError:function(){return j},PageNotFoundError:function(){return v},SP:function(){return f},ST:function(){return x},WEB_VITALS:function(){return i},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return h},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return _}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&h(n))return r;if(!r)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let f="u">typeof performance,x=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class j extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function _(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isLocalURL",{enumerable:!0,get:function(){return i}});let r=e.r(18967),a=e.r(52817);function i(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),n=new URL(e,t);return n.origin===t&&(0,a.hasBasePath)(n.pathname)}catch(e){return!1}}},84508,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},22016,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return g},useLinkStatus:function(){return v}};for(var a in r)Object.defineProperty(n,a,{enumerable:!0,get:r[a]});let i=e.r(90809),s=e.r(43476),l=i._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),h=e.r(5550);e.r(33525);let p=e.r(91949),m=e.r(73668),f=e.r(9396);function x(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var n;let r,a,i,[o,g]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),v=(0,l.useRef)(null),{href:b,as:y,children:_,prefetch:N=null,passHref:w,replace:k,shallow:C,scroll:P,onClick:S,onMouseEnter:E,onTouchStart:O,legacyBehavior:T=!1,onNavigate:L,ref:$,unstable_dynamicOnHover:M,...R}=t;r=_,T&&("string"==typeof r||"number"==typeof r)&&(r=(0,s.jsx)("a",{children:r}));let A=l.default.useContext(c.AppRouterContext),I=!1!==N,D=!1!==N?null===(n=N)||"auto"===n?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:U,as:F}=l.default.useMemo(()=>{let e=x(b);return{href:e,as:y?x(y):e}},[b,y]);if(T){if(r?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=l.default.Children.only(r)}let B=T?a&&"object"==typeof a&&a.ref:$,z=l.default.useCallback(e=>(null!==A&&(v.current=(0,p.mountLinkInstance)(e,U,A,D,I,g)),()=>{v.current&&((0,p.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,p.unmountPrefetchableInstance)(e)}),[I,U,A,D,g]),K={ref:(0,d.useMergedRef)(z,B),onClick(t){T||"function"!=typeof S||S(t),T&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!A||t.defaultPrevented||function(t,n,r,a,i,s,o){if("u">typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(n)){i&&(t.preventDefault(),location.replace(n));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(r||n,i?"replace":"push",s??!0,a.current)})}}(t,U,F,v,k,P,L)},onMouseEnter(e){T||"function"!=typeof E||E(e),T&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),A&&I&&(0,p.onNavigationIntent)(e.currentTarget,!0===M)},onTouchStart:function(e){T||"function"!=typeof O||O(e),T&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),A&&I&&(0,p.onNavigationIntent)(e.currentTarget,!0===M)}};return(0,u.isAbsoluteUrl)(F)?K.href=F:T&&!w&&("a"!==a.type||"href"in a.props)||(K.href=(0,h.addBasePath)(F)),i=T?l.default.cloneElement(a,K):(0,s.jsx)("a",{...R,...K,children:r}),(0,s.jsx)(j.Provider,{value:o,children:i})}e.r(84508);let j=(0,l.createContext)(p.IDLE_LINK_STATUS),v=()=>(0,l.useContext)(j);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},35543,e=>{"use strict";var t=e.i(43476);e.i(71645);var n=e.i(22016),r=e.i(18566);function a(){let e=(0,r.usePathname)();return(0,t.jsxs)("aside",{className:"admin-sidebar",children:[(0,t.jsxs)("div",{className:"sidebar-brand",children:[(0,t.jsx)("div",{className:"sidebar-logo",children:(0,t.jsx)("span",{className:"material-icons",children:"school"})}),(0,t.jsx)("span",{className:"sidebar-title",children:"SPICC ADMIN"})]}),(0,t.jsxs)("nav",{className:"sidebar-nav",children:[(0,t.jsx)("div",{className:"sidebar-nav-label",children:"Main Menu"}),[{name:"Dashboard",href:"/admin",icon:"dashboard"},{name:"จัดการส่วนหัว",href:"/admin/hero",icon:"view_carousel"},{name:"จัดการหน้าคั่น",href:"/admin/landing-page",icon:"auto_awesome"},{name:"จัดการหลักสูตร",href:"/admin/courses",icon:"school"},{name:"จัดการแผนกวิชา",href:"/admin/departments",icon:"category"},{name:"จัดการบุคลากร",href:"/admin/personnel",icon:"groups"},{name:"จัดการข่าวสาร",href:"/admin/news",icon:"newspaper"},{name:"จัดการเกี่ยวกับเรา",href:"/admin/about",icon:"info"},{name:"จัดการเมนู",href:"/admin/menus",icon:"sort"},{name:"จัดการเพจ",href:"/admin/pages",icon:"article"},{name:"จัดการส่วนท้าย",href:"/admin/footer",icon:"wrap_text"},{name:"ตั้งค่าเว็บไซต์",href:"/admin/settings",icon:"settings"}].map(r=>{let a=e===r.href;return(0,t.jsxs)(n.default,{href:r.href,className:`sidebar-link ${a?"active":""}`,children:[(0,t.jsx)("span",{className:"material-icons",children:r.icon}),r.name]},r.href)})]}),(0,t.jsx)("div",{className:"sidebar-footer",children:(0,t.jsx)("div",{className:"text-xs text-white/30 text-center",children:"Version 1.0.0"})})]})}e.s(["default",()=>a])},41197,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(18566),a=e.i(35543);function i(){let e=(0,r.useRouter)(),[i,s]=(0,n.useState)([]),[l,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)([]),[p,m]=(0,n.useState)([]),[f,x]=(0,n.useState)(!0),[g,j]=(0,n.useState)(!1),[v,b]=(0,n.useState)(null),[y,_]=(0,n.useState)({title:"",url:"",page_id:"",course_id:"",news_id:"",parent_id:"",sort_order:0,is_active:1,link_type:"url"}),[N,w]=(0,n.useState)(null),[k,C]=(0,n.useState)(new Set),[P,S]=(0,n.useState)(1);(0,n.useEffect)(()=>{E()},[]);let E=async()=>{(await fetch("/web/api/auth/me")).ok?(x(!1),O()):e.push("/admin/login")},O=async()=>{let[e,t,n,r]=await Promise.all([fetch("/web/api/menus"),fetch("/web/api/pages"),fetch("/web/api/courses"),fetch("/web/api/news")]),a=await e.json(),i=await t.json(),l=await n.json(),c=await r.json();s(a.menus||[]),o(a.allMenus||[]),d(i.pages||[]),h(l.courses||[]),m(c.news||[])},T=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},L=async(e,t,n)=>{if(e.preventDefault(),!N||N.id===t.id)return;let r=async(e,n)=>{let r=[...n],a=r.findIndex(e=>e.id===N.id);r.findIndex(e=>e.id===t.id),-1!==a&&r.splice(a,1);let i=r.findIndex(e=>e.id===t.id);r.splice(i,0,N);let s=r.map((e,t)=>({id:e.id,sort_order:t}));N.parent_id,await fetch("/web/api/menus",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:s})}),O()},a=(e,t)=>{for(let n of e){if(n.id===t)return e;if(n.children&&n.children.length>0){let e=a(n.children,t);if(e)return e}}return null},s=a(i,t.id);s&&await r(n,s)},$=e=>{w(null),e.currentTarget.classList.remove("dragging"),document.querySelectorAll(".menu-tree-item").forEach(e=>e.classList.remove("drag-over"))},M=e=>{e.preventDefault(),e.currentTarget.classList.contains("menu-tree-item")&&e.currentTarget.classList.add("drag-over")},R=e=>{e.preventDefault(),e.currentTarget.classList.remove("drag-over")},A=(e=null)=>{b(null),_({title:"",url:"",page_id:"",course_id:"",news_id:"",parent_id:e||"",sort_order:0,is_active:1,link_type:"url"}),j(!0)},I=async()=>{let e={title:y.title,url:"url"===y.link_type?y.url:null,page_id:"page"===y.link_type&&y.page_id||null,course_id:"course"===y.link_type&&y.course_id||null,news_id:"news"===y.link_type&&y.news_id||null,parent_id:y.parent_id||null,sort_order:parseInt(y.sort_order)||0,is_active:+!!y.is_active};v?await fetch(`/web/api/menus/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}):await fetch("/web/api/menus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),j(!1),O()},D=async e=>{confirm("ยืนยันการลบเมนูนี้? (sub-menu จะถูกลบด้วย)")&&(await fetch(`/web/api/menus/${e}`,{method:"DELETE"}),O())},U=(e,n=0,r=null)=>e.map(e=>(0,t.jsxs)("div",{className:"menu-tree-node",children:[(0,t.jsxs)("div",{className:`menu-tree-item depth-${n} ${N?.id===e.id?"dragging":""}`,style:{paddingLeft:`${20+32*n}px`},draggable:!0,onDragStart:t=>{w(e),t.dataTransfer.effectAllowed="move",t.currentTarget.classList.add("dragging")},onDragOver:T,onDragEnter:M,onDragLeave:R,onDrop:t=>L(t,e,r),onDragEnd:$,children:[(0,t.jsx)("div",{className:"menu-tree-handle",children:(0,t.jsx)("span",{className:"material-icons",children:"drag_indicator"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[e.children&&e.children.length>0&&(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void C(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},className:"flex items-center justify-center w-6 h-6 rounded hover:bg-white/10 transition-colors",children:(0,t.jsx)("span",{className:`material-icons text-sm transition-transform duration-200 ${k.has(e.id)?"-rotate-90":""}`,children:"expand_more"})}),!e.children||0===e.children.length&&n>0&&(0,t.jsx)("span",{className:"w-6"}),(0,t.jsxs)("div",{className:"menu-tree-info",children:[(0,t.jsx)("span",{className:`menu-status ${e.is_active?"active":"inactive"}`}),(0,t.jsx)("span",{className:"menu-tree-title font-bold",children:e.title}),(0,t.jsx)("span",{className:"menu-tree-url opacity-50 text-xs",children:e.page_id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:12},children:"article"})," ",e.page_title||"เพจ"]}):e.course_id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:12},children:"school"})," ",e.course_title||"หลักสูตร"]}):e.news_id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:12},children:"newspaper"})," ",e.news_title||"ข่าวสาร"]}):e.url||"—"})]})]}),(0,t.jsxs)("div",{className:"menu-tree-actions",children:[(0,t.jsx)("button",{className:"btn-icon btn-add-sub",title:"เพิ่ม sub-menu",onClick:()=>A(e.id),children:(0,t.jsx)("span",{className:"material-icons",children:"add"})}),(0,t.jsx)("button",{className:"btn-icon btn-edit",title:"แก้ไข",onClick:()=>{let t;return b(e),t="url",void(e.page_id?t="page":e.course_id?t="course":e.news_id&&(t="news"),_({title:e.title,url:e.url||"",page_id:e.page_id||"",course_id:e.course_id||"",news_id:e.news_id||"",parent_id:e.parent_id||"",sort_order:e.sort_order||0,is_active:e.is_active,link_type:t}),j(!0))},children:(0,t.jsx)("span",{className:"material-icons",children:"edit"})}),(0,t.jsx)("button",{className:"btn-icon btn-delete",title:"ลบ",onClick:()=>D(e.id),children:(0,t.jsx)("span",{className:"material-icons",children:"delete"})})]})]}),e.children&&e.children.length>0&&!k.has(e.id)&&(0,t.jsx)("div",{className:"menu-tree-children",children:U(e.children,n+1,e.id)})]},e.id)),F=i.slice((P-1)*10,10*P),B=Math.ceil(i.length/10);return f?(0,t.jsxs)("div",{className:"admin-loading",children:[(0,t.jsx)("div",{className:"admin-loading-spinner"}),(0,t.jsx)("p",{children:"กำลังโหลด..."})]}):(0,t.jsxs)("div",{className:"admin-layout",children:[(0,t.jsx)(a.default,{}),(0,t.jsxs)("div",{className:"admin-content",children:[(0,t.jsxs)("header",{className:"admin-header",children:[(0,t.jsxs)("div",{className:"admin-header-left",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"จัดการเมนู"}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"ลากวางเพื่อจัดลำดับเมนู และจัดการเมนูย่อย"})]}),(0,t.jsx)("div",{className:"admin-header-right",children:(0,t.jsxs)("button",{className:"btn-primary",onClick:()=>A(),children:[(0,t.jsx)("span",{className:"material-icons",children:"add"})," เพิ่มเมนูใหม่"]})})]}),(0,t.jsx)("main",{className:"admin-main",children:0===i.length?(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("span",{className:"material-icons",children:"menu_open"}),(0,t.jsx)("h3",{children:"ยังไม่มีเมนู"}),(0,t.jsx)("p",{children:"สร้างเมนูแรกเพื่อใช้ในเว็บไซต์"}),(0,t.jsxs)("button",{className:"btn-primary",onClick:()=>A(),children:[(0,t.jsx)("span",{className:"material-icons",children:"add"})," เพิ่มเมนูใหม่"]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"menu-tree-container bg-white/5 rounded-2xl border border-white/10 overflow-hidden",children:[(0,t.jsxs)("div",{className:"menu-tree-header grid grid-cols-[1fr_auto] px-6 py-4 bg-white/5 border-b border-white/10 text-xs font-bold uppercase tracking-wider text-white/40",children:[(0,t.jsx)("span",{children:"ชื่อเมนู / ข้อมูล"}),(0,t.jsx)("span",{className:"text-right",children:"จัดการ"})]}),(0,t.jsx)("div",{className:"divide-y divide-white/5",children:U(F,0,null)})]}),B>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsxs)("p",{className:"text-sm text-white/40",children:["แสดง ",(P-1)*10+1," - ",Math.min(10*P,i.length)," จากทั้งหมด ",i.length," เมนูหลัก"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>S(e=>Math.max(1,e-1)),disabled:1===P,className:"px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 transition-all flex items-center gap-2",children:[(0,t.jsx)("span",{className:"material-icons text-sm",children:"chevron_left"}),"ก่อนหน้า"]}),(0,t.jsx)("div",{className:"flex gap-1",children:[...Array(B)].map((e,n)=>(0,t.jsx)("button",{onClick:()=>S(n+1),className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold transition-all ${P===n+1?"bg-primary text-secondary":"bg-white/5 border border-white/10 text-white hover:bg-white/10"}`,children:n+1},n))}),(0,t.jsxs)("button",{onClick:()=>S(e=>Math.min(B,e+1)),disabled:P===B,className:"px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 transition-all flex items-center gap-2",children:["ถัดไป",(0,t.jsx)("span",{className:"material-icons text-sm",children:"chevron_right"})]})]})]})]})})]}),g&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>j(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h3",{children:v?"แก้ไขเมนู":"เพิ่มเมนูใหม่"}),(0,t.jsx)("button",{className:"modal-close",onClick:()=>j(!1),children:(0,t.jsx)("span",{className:"material-icons",children:"close"})})]}),(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"ชื่อเมนู"}),(0,t.jsx)("input",{value:y.title,onChange:e=>_({...y,title:e.target.value}),placeholder:"เช่น หน้าแรก, เกี่ยวกับเรา"})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"เมนูหลัก (Parent)"}),(0,t.jsxs)("select",{value:y.parent_id,onChange:e=>_({...y,parent_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"— ไม่มี (เป็นเมนูหลัก) —"}),l.filter(e=>!v||e.id!==v.id).map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"ประเภทลิงก์"}),(0,t.jsxs)("div",{className:"radio-group",children:[(0,t.jsxs)("label",{className:`radio-label ${"url"===y.link_type?"active":""}`,children:[(0,t.jsx)("input",{type:"radio",name:"link_type",value:"url",checked:"url"===y.link_type,onChange:()=>_({...y,link_type:"url"})}),(0,t.jsx)("span",{className:"material-icons",children:"link"})," URL"]}),(0,t.jsxs)("label",{className:`radio-label ${"page"===y.link_type?"active":""}`,children:[(0,t.jsx)("input",{type:"radio",name:"link_type",value:"page",checked:"page"===y.link_type,onChange:()=>_({...y,link_type:"page"})}),(0,t.jsx)("span",{className:"material-icons",children:"article"})," เลือกเพจ"]}),(0,t.jsxs)("label",{className:`radio-label ${"course"===y.link_type?"active":""}`,children:[(0,t.jsx)("input",{type:"radio",name:"link_type",value:"course",checked:"course"===y.link_type,onChange:()=>_({...y,link_type:"course"})}),(0,t.jsx)("span",{className:"material-icons",children:"school"})," เลือกหลักสูตร"]}),(0,t.jsxs)("label",{className:`radio-label ${"news"===y.link_type?"active":""}`,children:[(0,t.jsx)("input",{type:"radio",name:"link_type",value:"news",checked:"news"===y.link_type,onChange:()=>_({...y,link_type:"news"})}),(0,t.jsx)("span",{className:"material-icons",children:"newspaper"})," เลือกข่าวสาร"]})]})]}),"url"===y.link_type?(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"URL"}),(0,t.jsx)("input",{value:y.url,onChange:e=>_({...y,url:e.target.value}),placeholder:"https://example.com หรือ #section"})]}):"page"===y.link_type?(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"เลือกเพจ"}),(0,t.jsxs)("select",{value:y.page_id,onChange:e=>_({...y,page_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"— เลือกเพจ —"}),c.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," (/",e.slug,")"]},e.id))]})]}):"course"===y.link_type?(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"เลือกหลักสูตร"}),(0,t.jsxs)("select",{value:y.course_id,onChange:e=>_({...y,course_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"— เลือกหลักสูตร —"}),u.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," (",e.slug,")"]},e.id))]})]}):(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"เลือกข่าวสาร/กิจกรรม"}),(0,t.jsxs)("select",{value:y.news_id,onChange:e=>_({...y,news_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"— เลือกข่าวสาร —"}),p.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," (",e.slug,")"]},e.id))]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"ลำดับ"}),(0,t.jsx)("input",{type:"number",value:y.sort_order,onChange:e=>_({...y,sort_order:e.target.value})})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"สถานะ"}),(0,t.jsxs)("select",{value:y.is_active,onChange:e=>_({...y,is_active:parseInt(e.target.value)}),children:[(0,t.jsx)("option",{value:1,children:"เปิดใช้งาน"}),(0,t.jsx)("option",{value:0,children:"ปิดใช้งาน"})]})]})]})]}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{className:"btn-secondary",onClick:()=>j(!1),children:"ยกเลิก"}),(0,t.jsxs)("button",{className:"btn-primary",onClick:I,disabled:!y.title,children:[(0,t.jsx)("span",{className:"material-icons",children:"save"}),v?"บันทึก":"เพิ่มเมนู"]})]})]})})]})}e.s(["default",()=>i])}]);