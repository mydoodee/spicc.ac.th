{"version":3,"sources":["../../../lib/db.js","../../../node_modules/next/src/shared/lib/action-revalidation-kind.ts"],"sourcesContent":["import mysql from 'mysql2/promise';\r\n// Ensure mysql2 is used as a server-only package\r\n\r\nlet pool = global.dbPool || null;\r\n\r\nfunction getPool() {\r\n    if (!pool) {\r\n        pool = mysql.createPool({\r\n            host: process.env.DB_HOST,\r\n            user: process.env.DB_USER,\r\n            password: process.env.DB_PASSWORD,\r\n            database: process.env.DB_NAME,\r\n            port: parseInt(process.env.DB_PORT || '3306'),\r\n            waitForConnections: true,\r\n            connectionLimit: 10,\r\n            queueLimit: 0,\r\n            connectTimeout: 10000,\r\n            charset: 'utf8mb4',\r\n        });\r\n        global.dbPool = pool;\r\n    }\r\n    return pool;\r\n}\r\n\r\nexport async function query(sql, params = []) {\r\n    const pool = getPool();\r\n    const [rows] = await pool.execute(sql, params);\r\n    return rows;\r\n}\r\n\r\nexport default getPool;\r\n","export type ActionRevalidationKind = 0 | 1 | 2\n\nexport const ActionDidNotRevalidate = 0\nexport const ActionDidRevalidateStaticAndDynamic = 1\nexport const ActionDidRevalidateDynamicOnly = 2\n"],"names":["ActionDidNotRevalidate","ActionDidRevalidateDynamicOnly","ActionDidRevalidateStaticAndDynamic"],"mappings":"6pCAAA,IAAA,EAAA,EAAA,CAAA,CAAA,KAGA,IAAI,EAAO,EAAA,CAAA,CAAO,CAAP,KAAa,EAAI,KAqBrB,eAAe,EAAM,CAAG,CAAE,EAAS,EAAE,EACxC,IAAM,GAnBD,IAmBQ,AAlBT,EADO,AACA,EAAA,OAAK,CAAC,UAAU,CAAC,CACpB,KAAM,QAAQ,GAAG,CAAC,OAAO,CACzB,KAAM,QAAQ,GAAG,CAAC,OAAO,CACzB,SAAU,QAAQ,GAAG,CAAC,WAAW,CACjC,SAAU,QAAQ,GAAG,CAAC,OAAO,CAC7B,KAAM,SAAS,QAAQ,GAAG,CAAC,OAAO,EAAI,QACtC,oBAAoB,EACpB,gBAAiB,GACjB,WAAY,EACZ,eAAgB,IAChB,QAAS,SACb,GACA,EAAA,CAAA,CAAO,MAAM,CAAG,GAEb,GAKD,CAAC,EAAK,CAAG,MAAM,EAAK,OAAO,CAAC,EAAK,GACvC,OAAO,CACX,4GC1BaA,sBAAsB,CAAA,kBAAtBA,GAEAC,8BAA8B,CAAA,kBAA9BA,GADAC,mCAAmC,CAAA,kBAAnCA,uEADN,IAAMF,EAAyB,EACzBE,EAAsC,EACtCD,EAAiC","ignoreList":[1]}