module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},77860,a=>{"use strict";function b(a){return a?a.startsWith("http://")||a.startsWith("https://")||a.startsWith("data:")?a:a.startsWith("/uploads/")&&!a.startsWith("/web/uploads/")?`/web${a}`:!a.startsWith("/")&&[".jpg",".jpeg",".png",".gif",".svg",".webp",".pdf"].some(b=>a.toLowerCase().endsWith(b))?`/web/uploads/${a}`:a:""}a.s(["normalizePath",()=>b])},65233,a=>{"use strict";var b=a.i(87924);a.i(72131);var c=a.i(38246),d=a.i(50944);function e(){let a=(0,d.usePathname)();return(0,b.jsxs)("aside",{className:"admin-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-brand",children:[(0,b.jsx)("div",{className:"sidebar-logo",children:(0,b.jsx)("span",{className:"material-icons",children:"school"})}),(0,b.jsx)("span",{className:"sidebar-title",children:"SPICC ADMIN"})]}),(0,b.jsxs)("nav",{className:"sidebar-nav",children:[(0,b.jsx)("div",{className:"sidebar-nav-label",children:"Main Menu"}),[{name:"Dashboard",href:"/admin",icon:"dashboard"},{name:"จัดการส่วนหัว",href:"/admin/hero",icon:"view_carousel"},{name:"จัดการหน้าคั่น",href:"/admin/landing-page",icon:"auto_awesome"},{name:"จัดการหลักสูตร",href:"/admin/courses",icon:"school"},{name:"จัดการแผนกวิชา",href:"/admin/departments",icon:"category"},{name:"จัดการบุคลากร",href:"/admin/personnel",icon:"groups"},{name:"จัดการข่าวสาร",href:"/admin/news",icon:"newspaper"},{name:"จัดการเกี่ยวกับเรา",href:"/admin/about",icon:"info"},{name:"จัดการเมนู",href:"/admin/menus",icon:"sort"},{name:"จัดการเพจ",href:"/admin/pages",icon:"article"},{name:"จัดการส่วนท้าย",href:"/admin/footer",icon:"wrap_text"},{name:"ตั้งค่าเว็บไซต์",href:"/admin/settings",icon:"settings"}].map(d=>{let e=a===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:`sidebar-link ${e?"active":""}`,children:[(0,b.jsx)("span",{className:"material-icons",children:d.icon}),d.name]},d.href)})]}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsx)("div",{className:"text-xs text-white/30 text-center",children:"Version 1.0.0"})})]})}a.s(["default",()=>e])},82414,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65233),e=a.i(41227),f=a.i(77860);function g(){let{showToast:a}=(0,e.useToast)(),[g,h]=(0,c.useState)({site_name:"",site_logo:"",site_logo_url:"",site_favicon_url:"",site_title_suffix:"",site_subtitle:"",register_link:"",register_button_text:""}),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)("icon");(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{let a=await fetch("/web/api/settings"),b=await a.json();if(b.success&&b.settings){let a=b.settings;h({site_name:a.site_name||"",site_logo:a.site_logo||"",site_logo_url:a.site_logo_url||"",site_favicon_url:a.site_favicon_url||"",site_title_suffix:a.site_title_suffix||"",site_subtitle:a.site_subtitle||"",register_link:a.register_link||"",register_button_text:a.register_button_text||""}),a.site_logo_url&&n("image")}}catch(a){console.error("Fetch failed:",a)}finally{j(!1)}},p=(a,b)=>{let c=a.target.files[0];if(c){let a=new FileReader;a.onloadend=()=>{h(c=>({...c,[b]:a.result}))},a.readAsDataURL(c)}},q=async b=>{b.preventDefault(),l(!0);try{let b={...g};"icon"===m&&(b.site_logo_url=""),(await fetch("/web/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok?a("บันทึกการตั้งค่าเรียบร้อยแล้ว","success"):a("ไม่สามารถบันทึกการตั้งค่าได้","error")}catch(b){a("เกิดข้อผิดพลาดในการเชื่อมต่อ","error")}finally{l(!1)}};return i?(0,b.jsxs)("div",{className:"admin-loading",children:[(0,b.jsx)("div",{className:"admin-loading-spinner"}),(0,b.jsx)("p",{children:"กำลังโหลด..."})]}):(0,b.jsxs)("div",{className:"admin-layout",children:[(0,b.jsx)(d.default,{}),(0,b.jsxs)("div",{className:"admin-content",children:[(0,b.jsx)("header",{className:"admin-header",children:(0,b.jsx)("div",{className:"admin-header-left",children:(0,b.jsx)("h1",{className:"text-xl font-bold text-white",children:"ตั้งค่าเว็บไซต์ (Site Settings)"})})}),(0,b.jsx)("main",{className:"admin-main max-w-4xl space-y-8",children:(0,b.jsxs)("section",{className:"editor-card",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("span",{className:"material-icons text-primary",children:"settings"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-white",children:"การตั้งค่าทั่วไป"})]}),(0,b.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ชื่อวิทยาลัย / เว็บไซต์"}),(0,b.jsx)("input",{type:"text",value:g.site_name,onChange:a=>h({...g,site_name:a.target.value}),placeholder:"เช่น วิทยาลัยการอาชีพศีขรภูมิ",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ชื่อเรียกต่อท้าย Browser Tab"}),(0,b.jsx)("input",{type:"text",value:g.site_title_suffix,onChange:a=>h({...g,site_title_suffix:a.target.value}),placeholder:"เช่น วิทยาลัยแห่งอนาคต"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"คําอธิบายใต้ชื่อวิทยาลัย (ใน Navbar)"}),(0,b.jsx)("input",{type:"text",value:g.site_subtitle,onChange:a=>h({...g,site_subtitle:a.target.value}),placeholder:"เช่น วิทยาลัยเทคโนโลยีไอทีคอมพิวเตอร์และภาษาพื้นฐาน"})]}),(0,b.jsx)("hr",{className:"border-white/5"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"mb-4 block",children:"โลโก้เว็บไซต์ (Site Logo)"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>n("icon"),className:`flex-1 p-2 rounded-lg border transition-all flex items-center justify-center gap-2 ${"icon"===m?"border-primary bg-primary/10 text-white":"border-white/5 bg-white/5 text-white/40 hover:border-white/20"}`,children:[(0,b.jsx)("span",{className:"material-icons text-sm",children:"fingerprint"}),(0,b.jsx)("span",{className:"text-xs font-bold",children:"ใช้ไอคอน"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>n("image"),className:`flex-1 p-2 rounded-lg border transition-all flex items-center justify-center gap-2 ${"image"===m?"border-primary bg-primary/10 text-white":"border-white/5 bg-white/5 text-white/40 hover:border-white/20"}`,children:[(0,b.jsx)("span",{className:"material-icons text-sm",children:"image"}),(0,b.jsx)("span",{className:"text-xs font-bold",children:"ใช้รูปภาพ"})]})]}),"icon"===m?(0,b.jsx)("div",{className:"form-group",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:(0,b.jsx)("span",{className:"material-icons text-primary",children:g.site_logo||"school"})}),(0,b.jsx)("input",{type:"text",value:g.site_logo,onChange:a=>h({...g,site_logo:a.target.value}),placeholder:"Icon Name",required:"icon"===m,className:"flex-1 text-sm h-10"})]})}):(0,b.jsx)("div",{onClick:()=>document.getElementById("logo-upload").click(),className:"w-full h-32 bg-white/5 border-2 border-dashed border-white/10 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:bg-white/10 transition-all relative overflow-hidden",children:g.site_logo_url?(0,b.jsx)("img",{src:(0,f.normalizePath)(g.site_logo_url),alt:"Logo Preview",className:"max-h-full max-w-full object-contain p-2"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"material-icons text-2xl text-white/10 mb-1",children:"cloud_upload"}),(0,b.jsx)("span",{className:"text-[10px] text-white/30",children:"อัปโหลด Logo"})]})}),(0,b.jsx)("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:a=>p(a,"site_logo_url"),className:"hidden"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"mb-4 block",children:"ไอคอน Browser Tab (Favicon)"}),(0,b.jsx)("div",{onClick:()=>document.getElementById("favicon-upload").click(),className:"w-full h-32 bg-white/5 border-2 border-dashed border-white/10 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:bg-white/10 transition-all relative overflow-hidden",children:g.site_favicon_url?(0,b.jsx)("img",{src:(0,f.normalizePath)(g.site_favicon_url),alt:"Favicon Preview",className:"w-12 h-12 object-contain"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"material-icons text-2xl text-white/10 mb-1",children:"add_photo_alternate"}),(0,b.jsx)("span",{className:"text-[10px] text-white/30",children:"อัปโหลด Favicon"})]})}),(0,b.jsx)("input",{id:"favicon-upload",type:"file",accept:"image/*",onChange:a=>p(a,"site_favicon_url"),className:"hidden"})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsx)("button",{type:"submit",className:"btn-primary px-10 h-12 font-bold",disabled:k,children:k?"กำลังบันทึก...":"บันทึกการตั้งค่า"})})]})]})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__717ec9b7._.js.map