module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},77860,a=>{"use strict";function b(a){return a?a.startsWith("http://")||a.startsWith("https://")||a.startsWith("data:")?a:a.startsWith("/uploads/")&&!a.startsWith("/web/uploads/")?`/web${a}`:!a.startsWith("/")&&[".jpg",".jpeg",".png",".gif",".svg",".webp",".pdf"].some(b=>a.toLowerCase().endsWith(b))?`/web/uploads/${a}`:a:""}a.s(["normalizePath",()=>b])},65233,a=>{"use strict";var b=a.i(87924);a.i(72131);var c=a.i(38246),d=a.i(50944);function e(){let a=(0,d.usePathname)();return(0,b.jsxs)("aside",{className:"admin-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-brand",children:[(0,b.jsx)("div",{className:"sidebar-logo",children:(0,b.jsx)("span",{className:"material-icons",children:"school"})}),(0,b.jsx)("span",{className:"sidebar-title",children:"SPICC ADMIN"})]}),(0,b.jsxs)("nav",{className:"sidebar-nav",children:[(0,b.jsx)("div",{className:"sidebar-nav-label",children:"Main Menu"}),[{name:"Dashboard",href:"/admin",icon:"dashboard"},{name:"จัดการส่วนหัว",href:"/admin/hero",icon:"view_carousel"},{name:"จัดการหน้าคั่น",href:"/admin/landing-page",icon:"auto_awesome"},{name:"จัดการหลักสูตร",href:"/admin/courses",icon:"school"},{name:"จัดการแผนกวิชา",href:"/admin/departments",icon:"category"},{name:"จัดการบุคลากร",href:"/admin/personnel",icon:"groups"},{name:"จัดการข่าวสาร",href:"/admin/news",icon:"newspaper"},{name:"จัดการเกี่ยวกับเรา",href:"/admin/about",icon:"info"},{name:"จัดการเมนู",href:"/admin/menus",icon:"sort"},{name:"จัดการเพจ",href:"/admin/pages",icon:"article"},{name:"จัดการส่วนท้าย",href:"/admin/footer",icon:"wrap_text"},{name:"ตั้งค่าเว็บไซต์",href:"/admin/settings",icon:"settings"}].map(d=>{let e=a===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:`sidebar-link ${e?"active":""}`,children:[(0,b.jsx)("span",{className:"material-icons",children:d.icon}),d.name]},d.href)})]}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsx)("div",{className:"text-xs text-white/30 text-center",children:"Version 1.0.0"})})]})}a.s(["default",()=>e])},53719,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65233),e=a.i(41227),f=a.i(77860);function g(){let{showToast:a}=(0,e.useToast)(),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)({badge_text:"",title_line1:"",title_line2:"",description:"",bg_image:"",show_buttons:!0,btn_primary_text:"",btn_primary_url:"",btn_secondary_text:"",btn_secondary_url:"",bg_opacity:.7,bg_fit:"cover"});(0,c.useEffect)(()=>{m()},[]);let m=async()=>{try{let a=await fetch("/web/api/hero"),b=await a.json();b.success&&"No hero data found"!==b.message&&l({badge_text:b.hero.badge_text||"",title_line1:b.hero.title_line1||"",title_line2:b.hero.title_line2||"",description:b.hero.description||"",bg_image:b.hero.bg_image||"",show_buttons:1==b.hero.show_buttons,btn_primary_text:b.hero.btn_primary_text||"",btn_primary_url:b.hero.btn_primary_url||"",btn_secondary_text:b.hero.btn_secondary_text||"",btn_secondary_url:b.hero.btn_secondary_url||"",bg_opacity:void 0!==b.hero.bg_opacity&&null!==b.hero.bg_opacity?b.hero.bg_opacity:.7,bg_fit:b.hero.bg_fit||"cover"})}catch(a){console.error("Error fetching hero data:",a)}finally{h(!1)}},n=a=>{let{name:b,value:c,type:d,checked:e}=a.target;l(a=>({...a,[b]:"checkbox"===d?e:c}))},o=async b=>{let c=b.target.files[0];if(!c)return;let d=new FormData;d.append("file",c);try{j(!0);let b=await fetch("/web/api/upload",{method:"POST",body:d}),c=await b.json();c.success&&(l(a=>({...a,bg_image:c.url})),a("อัปโหลดรูปภาพสำเร็จ","success"))}catch(b){a("อัปโหลดรูปภาพไม่สำเร็จ: "+b.message,"error")}finally{j(!1)}},p=async b=>{b.preventDefault(),j(!0);try{let b=await fetch("/web/api/hero",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),c=await b.json();c.success?a("บันทึกข้อมูลส่วนหัวสำเร็จ","success"):a("บันทึกไม่สำเร็จ: "+(c.error||"Unknown error"),"error")}catch(b){a("เกิดข้อผิดพลาด: "+b.message,"error")}finally{j(!1)}};return g?(0,b.jsxs)("div",{className:"admin-layout",children:[(0,b.jsx)(d.default,{}),(0,b.jsx)("div",{className:"admin-content",children:(0,b.jsxs)("div",{className:"admin-loading",children:[(0,b.jsx)("div",{className:"admin-loading-spinner"}),(0,b.jsx)("span",{children:"กำลังโหลดข้อมูล..."})]})})]}):(0,b.jsxs)("div",{className:"admin-layout",children:[(0,b.jsx)(d.default,{}),(0,b.jsxs)("div",{className:"admin-content",children:[(0,b.jsx)("header",{className:"admin-header",children:(0,b.jsx)("div",{className:"admin-header-left",children:(0,b.jsx)("h1",{children:"จัดการส่วนหัว (Hero Section)"})})}),(0,b.jsx)("main",{className:"admin-main",children:(0,b.jsxs)("form",{onSubmit:p,className:"editor-grid",children:[(0,b.jsxs)("div",{className:"editor-main-col",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsx)("h4",{children:"เนื้อหาหลัก"}),(0,b.jsxs)("div",{className:"login-form",children:[" ",(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ข้อความประกาศ (Badge)"}),(0,b.jsx)("input",{type:"text",name:"badge_text",value:k.badge_text,onChange:n,placeholder:"เช่น เปิดรับสมัครปีการศึกษา 2567 แล้ววันนี้"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"หัวข้อบรรทัดที่ 1"}),(0,b.jsx)("input",{type:"text",name:"title_line1",value:k.title_line1,onChange:n,placeholder:"เช่น สร้างอนาคตของคุณที่"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"หัวข้อบรรทัดที่ 2 (เน้นสี)"}),(0,b.jsx)("input",{type:"text",name:"title_line2",value:k.title_line2,onChange:n,placeholder:"เช่น วิทยาลัยระดับพรีเมียม"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"คำอธิบาย"}),(0,b.jsx)("textarea",{name:"description",value:k.description,onChange:n,rows:"4",placeholder:"รายละเอียดเพิ่มเติม..."})]})]})]}),(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,b.jsx)("h4",{style:{margin:0},children:"ปุ่มกด (Buttons)"}),(0,b.jsxs)("label",{className:"radio-label",style:{background:k.show_buttons?"rgba(52, 211, 153, 0.1)":"rgba(255,255,255,0.05)",color:k.show_buttons?"#34d399":"inherit"},children:[(0,b.jsx)("input",{type:"checkbox",name:"show_buttons",checked:k.show_buttons,onChange:n}),(0,b.jsx)("span",{className:"material-icons",children:k.show_buttons?"check_box":"check_box_outline_blank"}),"แสดงปุ่ม"]})]}),k.show_buttons&&(0,b.jsxs)("div",{className:"login-form",children:[(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ปุ่มหลัก (ข้อความ)"}),(0,b.jsx)("input",{type:"text",name:"btn_primary_text",value:k.btn_primary_text,onChange:n})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ปุ่มหลัก (URL)"}),(0,b.jsx)("input",{type:"text",name:"btn_primary_url",value:k.btn_primary_url,onChange:n})]})]}),(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ปุ่มรอง (ข้อความ)"}),(0,b.jsx)("input",{type:"text",name:"btn_secondary_text",value:k.btn_secondary_text,onChange:n})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ปุ่มรอง (URL)"}),(0,b.jsx)("input",{type:"text",name:"btn_secondary_url",value:k.btn_secondary_url,onChange:n})]})]})]})]})]}),(0,b.jsxs)("div",{className:"editor-side-col",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsx)("h4",{children:"รูปภาพพื้นหลัง"}),(0,b.jsx)("div",{style:{width:"100%",aspectRatio:"16/9",background:"#000",borderRadius:"8px",overflow:"hidden",marginBottom:"12px",border:"1px solid rgba(255,255,255,0.1)",position:"relative"},children:k.bg_image?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:(0,f.normalizePath)(k.bg_image),alt:"Background",style:{width:"100%",height:"100%",objectFit:k.bg_fit}}),(0,b.jsx)("div",{style:{position:"absolute",inset:0,background:`rgba(43, 74, 138, ${k.bg_opacity})`,pointerEvents:"none"}})]}):(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"rgba(255,255,255,0.3)"},children:"No Image"})}),(0,b.jsxs)("div",{className:"login-form",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{children:["ความชัดของภาพ (Overlay Opacity: ",Math.round((1-k.bg_opacity)*100),"%)"]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,b.jsx)("span",{style:{fontSize:"12px",opacity:.5},children:"มืด"}),(0,b.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",name:"bg_opacity",value:k.bg_opacity,onChange:a=>l({...k,bg_opacity:parseFloat(a.target.value)}),style:{flex:1,cursor:"pointer"}}),(0,b.jsx)("span",{style:{fontSize:"12px",opacity:.5},children:"ชัด"})]}),(0,b.jsx)("p",{style:{fontSize:"10px",marginTop:"4px",opacity:.5},children:"* ค่ายิ่งน้อย (ชัดมาก) อาจทำให้ข้อความบนภาพอ่านยากขึ้น"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"การจัดวางรูปภาพ (Background Fit)"}),(0,b.jsxs)("select",{name:"bg_fit",value:k.bg_fit,onChange:n,style:{width:"100%",padding:"10px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",color:"white",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,b.jsx)("option",{value:"cover",children:"เต็มพื้นที่ (Cover - แนะนำ)"}),(0,b.jsx)("option",{value:"contain",children:"แสดงทั้งรูป (Contain - อาจมีขอบดำ)"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"อัปโหลดรูปใหม่"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:o})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"หรือใส่ URL"}),(0,b.jsx)("input",{type:"text",name:"bg_image",value:k.bg_image,onChange:n})]})]})]}),(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsx)("h4",{children:"บันทึกการแก้ไข"}),(0,b.jsxs)("button",{type:"submit",className:"btn-primary",style:{width:"100%",justifyContent:"center",marginTop:"8px"},disabled:i,children:[i?(0,b.jsx)("div",{className:"login-spinner"}):(0,b.jsx)("span",{className:"material-icons",children:"save"}),i?"กำลังบันทึก...":"บันทึกข้อมูล"]})]})]})]})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2dd1cd53._.js.map