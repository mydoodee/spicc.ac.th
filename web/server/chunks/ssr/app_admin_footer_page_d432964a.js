module.exports=[83964,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(41227),e=a.i(65233);function f(){let{showToast:a}=(0,d.useToast)(),[f,g]=(0,c.useState)("settings"),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)({description:"",facebook_url:"",website_url:"",address:"",phone:"",email:"",copyright:"",show_wave:!0,wave_color:"#f8f8f5",privacy_policy_url:"",terms_of_use_url:"",privacy_policy_content:"",terms_of_use_content:""}),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({section:"quick",title:"",url:"",sort_order:0});(0,c.useEffect)(()=>{r()},[]);let r=async()=>{i(!0);try{let a=await fetch("/web/api/footer"),b=await a.json();if(b.success){if(b.settings){let a={...b.settings};Object.keys(a).forEach(b=>{null===a[b]&&(a[b]="")}),k(a)}m(b.links||[])}}catch(b){a("ไม่สามารถโหลดข้อมูลได้","error")}finally{i(!1)}},s=async b=>{b.preventDefault();try{let b=await fetch("/web/api/footer",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),c=await b.json();c.success?a(c.message,"success"):a(c.error,"error")}catch(b){a("เกิดข้อผิดพลาดในการบันทึก","error")}},t=async b=>{b.preventDefault();try{let b=await fetch("/web/api/footer/links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),c=await b.json();c.success?(a(c.message,"success"),q({section:"quick",title:"",url:"",sort_order:0}),r()):a(c.error,"error")}catch(b){a("เกิดข้อผิดพลาดในการเพิ่มลิงก์","error")}},u=async b=>{try{let c=await fetch("/web/api/footer/links",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),d=await c.json();d.success?(a(d.message,"success"),o(null),r()):a(d.error,"error")}catch(b){a("เกิดข้อผิดพลาดในการอัปเดต","error")}},v=async b=>{if(confirm("ยืนยันการลบลิงก์นี้?"))try{let c=await fetch(`/web/api/footer/links?id=${b}`,{method:"DELETE"}),d=await c.json();d.success?(a(d.message,"success"),r()):a(d.error,"error")}catch(b){a("เกิดข้อผิดพลาดในการลบ","error")}};return h?(0,b.jsxs)("div",{className:"admin-loading",children:[(0,b.jsx)("div",{className:"admin-loading-spinner"}),(0,b.jsx)("p",{children:"กำลังโหลด..."})]}):(0,b.jsxs)("div",{className:"admin-layout",children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("div",{className:"admin-content",children:[(0,b.jsx)("header",{className:"admin-header",children:(0,b.jsxs)("div",{className:"admin-header-left",children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-white",children:"จัดการส่วนท้าย (Footer)"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"ปรับแต่งข้อมูลการติดต่อ ลิงก์ และคำอธิบายส่วนท้ายของเว็บไซต์"})]})}),(0,b.jsxs)("main",{className:"admin-main space-y-8",children:[(0,b.jsxs)("div",{className:"tabs-container flex gap-4 border-b border-white/10 pb-4",children:[(0,b.jsx)("button",{onClick:()=>g("settings"),className:`px-6 py-2 rounded-lg font-medium transition-all ${"settings"===f?"bg-[#f2cc0d] text-[#2b4a8a]":"text-white/60 hover:text-white"}`,children:"ตั้งค่าทั่วไป"}),(0,b.jsx)("button",{onClick:()=>g("links"),className:`px-6 py-2 rounded-lg font-medium transition-all ${"links"===f?"bg-[#f2cc0d] text-[#2b4a8a]":"text-white/60 hover:text-white"}`,children:"จัดการลิงก์"})]}),"settings"===f?(0,b.jsxs)("section",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-white/5 rounded-xl flex items-center justify-center border border-white/10 overflow-hidden",children:(0,b.jsx)("span",{className:"material-icons text-3xl text-[#f2cc0d]",children:"school"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:"หัวเรื่องและโลโก้ (Branding)"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"ชื่อวิทยาลัยและโลโก้ที่แสดงในส่วนท้ายจะถูกดึงมาจากการตั้งค่าหลักของเว็บไซต์"})]})]}),(0,b.jsxs)("a",{href:"/admin/settings",className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm font-medium transition-all flex items-center gap-2",children:[(0,b.jsx)("span",{className:"material-icons text-sm",children:"settings"}),"ไปที่ตั้งค่าเว็บไซต์เพื่อแก้ไข"]})]}),(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("span",{className:"material-icons text-primary",children:"settings"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-white",children:"ข้อมูลพื้นฐานส่วนท้าย"})]}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"คำอธิบายส่วนท้าย"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k({...j,description:a.target.value}),rows:"3",placeholder:"เช่น วิทยาลัยแห่งอนาคต..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Facebook URL"}),(0,b.jsx)("input",{type:"text",value:j.facebook_url,onChange:a=>k({...j,facebook_url:a.target.value}),placeholder:"#"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Google Maps URL"}),(0,b.jsx)("input",{type:"text",value:j.website_url,onChange:a=>k({...j,website_url:a.target.value}),placeholder:"https://maps.google.com/..."})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ที่อยู่"}),(0,b.jsx)("textarea",{value:j.address,onChange:a=>k({...j,address:a.target.value}),rows:"2"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"เบอร์โทรศัพท์"}),(0,b.jsx)("input",{type:"text",value:j.phone,onChange:a=>k({...j,phone:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"อีเมล"}),(0,b.jsx)("input",{type:"email",value:j.email,onChange:a=>k({...j,email:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Copyright Text"}),(0,b.jsx)("input",{type:"text",value:j.copyright,onChange:a=>k({...j,copyright:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4 border-b border-white/5",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ลิงก์นโยบายความเป็นส่วนตัว (Privacy Policy)"}),(0,b.jsx)("input",{type:"text",value:j.privacy_policy_url,onChange:a=>k({...j,privacy_policy_url:a.target.value}),placeholder:"#"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ลิงก์ข้อตกลงการใช้งาน (Terms of Use)"}),(0,b.jsx)("input",{type:"text",value:j.terms_of_use_url,onChange:a=>k({...j,terms_of_use_url:a.target.value}),placeholder:"#"})]})]}),(0,b.jsxs)("div",{className:"space-y-6 pt-6 border-t border-white/10",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"material-icons text-sm text-[#f2cc0d]",children:"gavel"}),"เนื้อหานโยบายความเป็นส่วนตัว (Privacy Policy Content)"]}),(0,b.jsx)("textarea",{value:j.privacy_policy_content,onChange:a=>k({...j,privacy_policy_content:a.target.value}),rows:"10",placeholder:"ใส่เนื้อหานโยบายความเป็นส่วนตัวที่นี่...",className:"font-mono text-sm"}),(0,b.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"เนื้อหานี้จะปรากฏในรูปแบบ Popup เมื่อคลิกลิงก์ที่ส่วนท้าย"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"material-icons text-sm text-[#f2cc0d]",children:"description"}),"เนื้อหาข้อตกลงการใช้งาน (Terms of Use Content)"]}),(0,b.jsx)("textarea",{value:j.terms_of_use_content,onChange:a=>k({...j,terms_of_use_content:a.target.value}),rows:"10",placeholder:"ใส่เนื้อหาข้อตกลงการใช้งานที่นี่...",className:"font-mono text-sm"}),(0,b.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"เนื้อหานี้จะปรากฏในรูปแบบ Popup เมื่อคลิกลิงก์ที่ส่วนท้าย"})]})]}),(0,b.jsxs)("div",{className:"editor-card !bg-white/5 p-6 rounded-xl space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-bold mb-1",children:"คลื่นส่วนบน (Wavy Top Divider)"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"เปิดหรือปิดรูปคลื่นที่อยู่ด้านบนสุดของส่วนท้าย"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:j.show_wave,onChange:a=>k({...j,show_wave:a.target.checked})}),(0,b.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),j.show_wave&&(0,b.jsxs)("div",{className:"form-group mt-4",children:[(0,b.jsx)("label",{children:"สีของคลื่น (Wave Fill Color)"}),(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsx)("input",{type:"color",value:j.wave_color,onChange:a=>k({...j,wave_color:a.target.value}),className:"w-12 h-12 rounded cursor-pointer bg-transparent border-0"}),(0,b.jsx)("input",{type:"text",value:j.wave_color,onChange:a=>k({...j,wave_color:a.target.value}),className:"flex-1",placeholder:"#f8f8f5"})]}),(0,b.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"แนะนำให้ใช้สีเดียวกับพื้นหลังของส่วนที่อยู่ติดกัน (เช่น #f8f8f5 หรือ #ffffff)"})]})]}),(0,b.jsx)("div",{className:"flex justify-start pt-4",children:(0,b.jsx)("button",{type:"submit",className:"btn-primary px-10 py-3 font-bold",children:"บันทึกการตั้งค่า"})})]})]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("section",{className:"editor-card sticky top-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("span",{className:"material-icons text-primary",children:"add_link"}),(0,b.jsx)("h2",{className:"text-lg font-bold text-white",children:"เพิ่มลิงก์ใหม่"})]}),(0,b.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"หมวดหมู่"}),(0,b.jsxs)("select",{value:p.section,onChange:a=>q({...p,section:a.target.value}),children:[(0,b.jsx)("option",{value:"quick",children:"ลิงก์ด่วน"}),(0,b.jsx)("option",{value:"help",children:"ช่วยเหลือ"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ชื่อลิงก์"}),(0,b.jsx)("input",{type:"text",required:!0,value:p.title,onChange:a=>q({...p,title:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"URL"}),(0,b.jsx)("input",{type:"text",required:!0,value:p.url,onChange:a=>q({...p,url:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ลำดับ"}),(0,b.jsx)("input",{type:"number",value:p.sort_order,onChange:a=>q({...p,sort_order:parseInt(a.target.value)})})]}),(0,b.jsx)("button",{type:"submit",className:"btn-primary w-full py-3 font-bold mt-2",children:"เพิ่มลิงก์"})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-2 space-y-8",children:["quick","help"].map(a=>(0,b.jsxs)("section",{className:"editor-card !p-0 overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-4 bg-white/5 border-b border-white/10 flex items-center gap-3",children:[(0,b.jsx)("span",{className:"material-icons text-primary",children:"quick"===a?"link":"help_outline"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white capitalize",children:"quick"===a?"ลิงก์ด่วน":"ช่วยเหลือ"})]}),(0,b.jsxs)("div",{className:"divide-y divide-white/5",children:[l.filter(b=>b.section===a).map(a=>(0,b.jsx)("div",{className:"p-6",children:n?.id===a.id?(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,b.jsx)("div",{className:"md:col-span-1 form-group mb-0",children:(0,b.jsx)("input",{type:"text",value:n.title,onChange:a=>o({...n,title:a.target.value})})}),(0,b.jsx)("div",{className:"md:col-span-2 form-group mb-0",children:(0,b.jsx)("input",{type:"text",value:n.url,onChange:a=>o({...n,url:a.target.value})})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>u(n),className:"p-2 bg-green-500 rounded text-white flex-1 hover:bg-green-600 transition-all",children:(0,b.jsx)("span",{className:"material-icons text-sm",children:"check"})}),(0,b.jsx)("button",{onClick:()=>o(null),className:"p-2 bg-white/10 rounded text-white flex-1 hover:bg-white/20 transition-all",children:(0,b.jsx)("span",{className:"material-icons text-sm",children:"close"})})]})]}):(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-primary text-xs mt-1",children:a.url})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>o(a),className:"text-white/40 hover:text-primary transition-all",children:(0,b.jsx)("span",{className:"material-icons text-xl",children:"edit"})}),(0,b.jsx)("button",{onClick:()=>v(a.id),className:"text-white/40 hover:text-red-500 transition-all",children:(0,b.jsx)("span",{className:"material-icons text-xl",children:"delete"})})]})]})},a.id)),0===l.filter(b=>b.section===a).length&&(0,b.jsx)("div",{className:"p-12 text-center text-white/20",children:"ยังไม่มีลิงก์ในหมวดหมู่ นี้"})]})]},a))})]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_admin_footer_page_d432964a.js.map