module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},77860,a=>{"use strict";function b(a){return a?a.startsWith("http://")||a.startsWith("https://")||a.startsWith("data:")?a:a.startsWith("/uploads/")&&!a.startsWith("/web/uploads/")?`/web${a}`:!a.startsWith("/")&&[".jpg",".jpeg",".png",".gif",".svg",".webp",".pdf"].some(b=>a.toLowerCase().endsWith(b))?`/web/uploads/${a}`:a:""}a.s(["normalizePath",()=>b])},65233,a=>{"use strict";var b=a.i(87924);a.i(72131);var c=a.i(38246),d=a.i(50944);function e(){let a=(0,d.usePathname)();return(0,b.jsxs)("aside",{className:"admin-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-brand",children:[(0,b.jsx)("div",{className:"sidebar-logo",children:(0,b.jsx)("span",{className:"material-icons",children:"school"})}),(0,b.jsx)("span",{className:"sidebar-title",children:"SPICC ADMIN"})]}),(0,b.jsxs)("nav",{className:"sidebar-nav",children:[(0,b.jsx)("div",{className:"sidebar-nav-label",children:"Main Menu"}),[{name:"Dashboard",href:"/admin",icon:"dashboard"},{name:"จัดการส่วนหัว",href:"/admin/hero",icon:"view_carousel"},{name:"จัดการหน้าคั่น",href:"/admin/landing-page",icon:"auto_awesome"},{name:"จัดการหลักสูตร",href:"/admin/courses",icon:"school"},{name:"จัดการแผนกวิชา",href:"/admin/departments",icon:"category"},{name:"จัดการบุคลากร",href:"/admin/personnel",icon:"groups"},{name:"จัดการข่าวสาร",href:"/admin/news",icon:"newspaper"},{name:"จัดการเกี่ยวกับเรา",href:"/admin/about",icon:"info"},{name:"จัดการเมนู",href:"/admin/menus",icon:"sort"},{name:"จัดการเพจ",href:"/admin/pages",icon:"article"},{name:"จัดการส่วนท้าย",href:"/admin/footer",icon:"wrap_text"},{name:"ตั้งค่าเว็บไซต์",href:"/admin/settings",icon:"settings"}].map(d=>{let e=a===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:`sidebar-link ${e?"active":""}`,children:[(0,b.jsx)("span",{className:"material-icons",children:d.icon}),d.name]},d.href)})]}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsx)("div",{className:"text-xs text-white/30 text-center",children:"Version 1.0.0"})})]})}a.s(["default",()=>e])},70568,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65233),e=a.i(41227),f=a.i(77860);function g(){let{showToast:a}=(0,e.useToast)(),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)({is_active:!1,image_url:""});(0,c.useEffect)(()=>{m()},[]);let m=async()=>{try{let a=await fetch("/web/api/landing-page"),b=await a.json();b.success&&l({is_active:1===b.settings.is_active,image_url:b.settings.image_url||""})}catch(a){console.error("Error fetching landing page data:",a)}finally{h(!1)}},n=async b=>{let c=b.target.files[0];if(!c)return;let d=new FormData;d.append("file",c);try{j(!0);let b=await fetch("/web/api/upload",{method:"POST",body:d}),c=await b.json();c.success&&(l(a=>({...a,image_url:c.url})),a("อัปโหลดรูปภาพสำเร็จ","success"))}catch(b){a("อัปโหลดรูปภาพไม่สำเร็จ: "+b.message,"error")}finally{j(!1)}},o=async b=>{b.preventDefault(),j(!0);try{let b=await fetch("/web/api/landing-page",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),c=await b.json();c.success?a("บันทึกข้อมูลสำเร็จ","success"):a("บันทึกไม่สำเร็จ: "+(c.error||"Unknown error"),"error")}catch(b){a("เกิดข้อผิดพลาด: "+b.message,"error")}finally{j(!1)}};return g?(0,b.jsxs)("div",{className:"admin-layout",children:[(0,b.jsx)(d.default,{}),(0,b.jsx)("div",{className:"admin-content",children:(0,b.jsxs)("div",{className:"admin-loading",children:[(0,b.jsx)("div",{className:"admin-loading-spinner"}),(0,b.jsx)("span",{children:"กำลังโหลดข้อมูล..."})]})})]}):(0,b.jsxs)("div",{className:"admin-layout",children:[(0,b.jsx)(d.default,{}),(0,b.jsxs)("div",{className:"admin-content",children:[(0,b.jsx)("header",{className:"admin-header",children:(0,b.jsxs)("div",{className:"admin-header-left",children:[(0,b.jsx)("h1",{children:"จัดการหน้าคั่น (Landing Page)"}),(0,b.jsx)("p",{className:"text-sm text-white/50",children:"จัดการหน้าที่จะปรากฏเมื่อมีคนเข้าเว็บครั้งแรก"})]})}),(0,b.jsx)("main",{className:"admin-main",children:(0,b.jsxs)("form",{onSubmit:o,className:"editor-grid",children:[(0,b.jsx)("div",{className:"editor-main-col",children:(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsx)("h4",{children:"ตั้งค่าทั่วไป"}),(0,b.jsx)("div",{className:"login-form",children:(0,b.jsx)("div",{className:"form-group",children:(0,b.jsxs)("label",{className:"radio-label",style:{padding:"12px 16px",background:k.is_active?"rgba(52, 211, 153, 0.1)":"rgba(255,255,255,0.05)",color:k.is_active?"#34d399":"inherit",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",border:k.is_active?"1px solid rgba(52, 211, 153, 0.2)":"1px solid rgba(255,255,255,0.1)"},children:[(0,b.jsx)("input",{type:"checkbox",checked:k.is_active,onChange:a=>l({...k,is_active:a.target.checked}),style:{width:"20px",height:"20px"}}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)("span",{className:"font-bold",children:"เปิดใช้งานหน้าคั่น (Active)"}),(0,b.jsx)("span",{className:"text-xs opacity-50",children:"เมื่อเปิดใช้งาน หน้านี้จะปรากฏเมื่อผู้เข้าชมเว็บไซต์ครั้งแรก"})]})]})})})]})}),(0,b.jsxs)("div",{className:"editor-side-col",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsx)("h4",{children:"รูปภาพที่แสดง"}),(0,b.jsx)("div",{style:{width:"100%",aspectRatio:"16/9",background:"#000",borderRadius:"8px",overflow:"hidden",marginBottom:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:k.image_url?(0,b.jsx)("img",{src:(0,f.normalizePath)(k.image_url),alt:"Landing",style:{width:"100%",height:"100%",objectFit:"contain"}}):(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"rgba(255,255,255,0.3)"},children:"No Image"})}),(0,b.jsxs)("div",{className:"login-form",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"อัปโหลดรูปภาพ"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:n})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"หรือใส่ URL"}),(0,b.jsx)("input",{type:"text",value:k.image_url,onChange:a=>l({...k,image_url:a.target.value}),placeholder:"https://example.com/image.jpg"})]})]})]}),(0,b.jsxs)("div",{className:"editor-card",children:[(0,b.jsx)("h4",{children:"บันทึกการแก้ไข"}),(0,b.jsxs)("button",{type:"submit",className:"btn-primary",style:{width:"100%",justifyContent:"center",marginTop:"8px"},disabled:i,children:[i?(0,b.jsx)("div",{className:"login-spinner"}):(0,b.jsx)("span",{className:"material-icons",children:"save"}),i?"กำลังบันทึก...":"บันทึกข้อมูล"]})]})]})]})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4db07144._.js.map