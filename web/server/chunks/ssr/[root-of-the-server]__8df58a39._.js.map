{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../lib/utils.js","../../../../app/courses/%5Bslug%5D/page.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","/**\r\n * Normalizes image and file URLs to include the correct base path.\r\n * If a URL starts with /uploads/, it prepends /web to match the basePath configuration.\r\n * @param {string} url - The URL to normalize.\r\n * @returns {string} - The normalized URL.\r\n */\r\nexport function normalizePath(url) {\r\n    if (!url) return \"\";\r\n\r\n    // If it's already an absolute URL (http/https), return as is\r\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\") || url.startsWith(\"data:\")) {\r\n        return url;\r\n    }\r\n\r\n    // If it starts with /uploads/ but not /web/uploads/, prepend /web\r\n    if (url.startsWith(\"/uploads/\") && !url.startsWith(\"/web/uploads/\")) {\r\n        return `/web${url}`;\r\n    }\r\n\r\n    // Handle raw filenames (e.g., \"123-photo.jpg\")\r\n    // If it doesn't start with / and has a common extension, assume it's an upload\r\n    const commonExtensions = ['.jpg', '.jpeg', '.png', '.gif', '.svg', '.webp', '.pdf'];\r\n    if (!url.startsWith(\"/\") && commonExtensions.some(ext => url.toLowerCase().endsWith(ext))) {\r\n        return `/web/uploads/${url}`;\r\n    }\r\n\r\n    return url;\r\n}\r\n","\"use client\";\r\nimport { useState, useEffect, use } from \"react\";\r\nimport Navbar from \"@/app/components/Navbar\";\r\nimport Footer from \"@/app/components/Footer\";\r\nimport Link from \"next/link\";\r\nimport { normalizePath } from \"@/lib/utils\";\r\n\r\nexport default function CourseDetailPage({ params: paramsPromise }) {\r\n    const params = use(paramsPromise);\r\n    const { slug } = params;\r\n    const [course, setCourse] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchCourse();\r\n    }, [slug]);\r\n\r\n    const fetchCourse = async () => {\r\n        try {\r\n            // Try fetching by slug first\r\n            let res = await fetch(`/web/api/courses?slug=${slug}`);\r\n            let data = await res.json();\r\n\r\n            // Fallback to fetch by id if slug looks like an ID and slug-fetch failed\r\n            if ((!data.success || !data.course) && /^\\d+$/.test(slug)) {\r\n                res = await fetch(`/web/api/courses?id=${slug}`);\r\n                data = await res.json();\r\n            }\r\n\r\n            if (data.success && data.course) {\r\n                setCourse(data.course);\r\n            } else {\r\n                setError(\"ไม่พบข้อมูลหลักสูตรนี้\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch course:\", err);\r\n            setError(\"เกิดข้อผิดพลาดในการโหลดข้อมูล\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#f8f8f5] flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#2b4a8a]\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error || !course) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#f8f8f5]\">\r\n                <Navbar />\r\n                <div className=\"container mx-auto px-6 py-32 text-center\">\r\n                    <h1 className=\"text-3xl font-bold text-navy mb-4\">{error || \"ไม่พบหน้าที่คุณต้องการ\"}</h1>\r\n                    <Link href=\"/\" className=\"text-primary hover:underline\">กลับสู่หน้าแรก</Link>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-[#f8f8f5]\">\r\n            <Navbar />\r\n\r\n            {/* Hero Header for Course */}\r\n            <section className={`${course.color || 'bg-[#2b4a8a]'} pt-32 pb-20 relative overflow-hidden`}>\r\n                <div className=\"absolute inset-0 bg-black/10\"></div>\r\n                <div className=\"container mx-auto px-6 relative z-10\">\r\n                    <div className=\"max-w-4xl\">\r\n                        <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full text-white/90 text-sm font-medium mb-6\">\r\n                            <span className=\"material-icons text-sm\">{course.icon || 'school'}</span>\r\n                            หลักสูตรที่เปิดสอน\r\n                        </div>\r\n                        <h1 className={`text-4xl md:text-6xl font-bold ${course.text_color || 'text-white'} mb-6 leading-tight`}>\r\n                            {course.title}\r\n                        </h1>\r\n                        <p className={`text-lg md:text-xl ${course.text_color || 'text-white'} opacity-90 leading-relaxed max-w-2xl`}>\r\n                            {/* Short description prefix or just the title */}\r\n                            สัมผัสประสบการณ์การเรียนรู้ระดับพรีเมียมในสาขา{course.title}\r\n                            พร้อมก้าวสู่ความเป็นมืออาชีพในระดับสากล\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Decorative Elements */}\r\n                <div className=\"absolute right-[-10%] bottom-[-20%] w-[500px] h-[500px] bg-white/5 rounded-full blur-3xl text-white\"></div>\r\n                <div className=\"absolute left-[50%] top-[-10%] w-[300px] h-[300px] bg-yellow-400/10 rounded-full blur-2xl\"></div>\r\n            </section>\r\n\r\n            {/* Course Content */}\r\n            <section className=\"py-20\">\r\n                <div className=\"container mx-auto px-6\">\r\n                    <div className=\"grid lg:grid-cols-3 gap-12\">\r\n                        {/* Main Content */}\r\n                        <div className=\"lg:col-span-2 space-y-12\">\r\n                            {course.image && (\r\n                                <div className=\"rounded-3xl overflow-hidden shadow-2xl border border-slate-100\">\r\n                                    <img\r\n                                        src={normalizePath(course.image)}\r\n                                        alt={course.title}\r\n                                        className=\"w-full h-auto object-cover\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"bg-white p-8 md:p-12 rounded-3xl shadow-xl shadow-navy/5 border border-slate-100\">\r\n                                <h2 className=\"text-3xl font-bold text-navy mb-8 flex items-center gap-3\">\r\n                                    <span className=\"w-1.5 h-8 bg-[#f2cc0d] rounded-full\"></span>\r\n                                    รายละเอียดหลักสูตร\r\n                                </h2>\r\n                                <div\r\n                                    className=\"prose prose-lg max-w-none text-slate-600 leading-relaxed space-y-6 \r\n                                    prose-headings:text-navy prose-h3:text-xl prose-h3:font-bold prose-h3:mt-8 \r\n                                    prose-p:mb-4 prose-img:rounded-2xl prose-img:shadow-lg prose-a:text-primary prose-a:no-underline hover:prose-a:underline\"\r\n                                    dangerouslySetInnerHTML={{ __html: course.description }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Sidebar / CTA */}\r\n                        <div className=\"space-y-8\">\r\n                            <div className=\"bg-[#1a365d] p-8 rounded-3xl text-white shadow-2xl sticky top-28\">\r\n                                <h3 className=\"text-2xl font-bold mb-6\">สนใจร่วมเป็นส่วนหนึ่งกับเรา?</h3>\r\n                                <p className=\"text-white/80 mb-8 leading-relaxed\">\r\n                                    เปิดรับสมัครในสาขา{course.title} ประจำปีการศึกษา 2567\r\n                                    พร้อมรับสิทธิพิเศษและทุนการศึกษามากมาย\r\n                                </p>\r\n                                <div className=\"space-y-4\">\r\n                                    <button className=\"w-full bg-[#f2cc0d] hover:bg-yellow-500 text-navy font-bold py-4 rounded-2xl transition-all shadow-lg flex items-center justify-center gap-2\">\r\n                                        <span className=\"material-icons\">edit_note</span>\r\n                                        สมัครเรียนออนไลน์\r\n                                    </button>\r\n                                    <button className=\"w-full bg-white/10 hover:bg-white/20 text-white font-bold py-4 rounded-2xl border border-white/20 transition-all flex items-center justify-center gap-2\">\r\n                                        <span className=\"material-icons\">chat</span>\r\n                                        ปรึกษาฝ่ายแนะแนว\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"mt-8 pt-8 border-t border-white/10 space-y-4\">\r\n                                    <div className=\"flex items-center gap-3 text-white/90\">\r\n                                        <span className=\"material-icons text-[#f2cc0d]\">call</span>\r\n                                        <span className=\"font-medium\">0XX-XXX-XXXX</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-3 text-white/90\">\r\n                                        <span className=\"material-icons text-[#f2cc0d]\">description</span>\r\n                                        <span className=\"font-medium\">รับใบประกาศนียบัตรวิชาชีพ</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <Footer />\r\n        </main>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactJsxRuntime","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3,4]}